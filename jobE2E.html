<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <title>Profit / Loss Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial, sans-serif; background:#f5f5f5; padding:20px; }
    h2 { text-align:center; }
    .card { background:#fff; padding:20px; border-radius:10px; max-width:500px; margin:0 auto; box-shadow:0 4px 8px rgba(0,0,0,0.1); }
    label { font-weight:bold; display:block; margin:10px 0 5px; }
    input, select { width:100%; padding:10px; margin-bottom:10px; border:1px solid #ccc; border-radius:5px; }
    button { background:#007bff; color:#fff; border:none; padding:12px; width:100%; border-radius:5px; cursor:pointer; font-size:16px; }
    button:hover { background:#0056b3; }
    .result { background:#fafafa; padding:15px; margin-top:20px; border-radius:8px; border:1px solid #ddd; }
    .loss { color:red; font-weight:bold; }
    .profit { color:green; font-weight:bold; }
  </style>
</head>
<body>

  <h2>üìä ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶∏‡ßá‡¶≤‡¶ø‡¶Ç ‡¶≤‡¶æ‡¶≠/‡¶ï‡ßç‡¶∑‡¶§‡¶ø ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ï‡ßÅ‡¶≤‡ßá‡¶ü‡¶∞</h2>
  <div class="card">
    <label>Platform:</label>
    <select id="platform">
      <option value="flipkart">Flipkart</option>
      <option value="amazon">Amazon</option>
      <option value="meesho">Meesho</option>
    </select>

    <label>Product Cost (‚Çπ):</label>
    <input type="number" id="productCost" placeholder="‡¶ï‡ßç‡¶∞‡ßü‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">

    <label>Selling Price (‚Çπ):</label>
    <input type="number" id="sellingPrice" placeholder="‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">

    <label>Labour Cost (‚Çπ):</label>
    <input type="number" id="labour" value="0">

    <label>Home Cost (‚Çπ):</label>
    <input type="number" id="home" value="0">

    <label>Packing Cost (‚Çπ):</label>
    <input type="number" id="packing" value="0">

    <label>GST %:</label>
    <input type="number" id="gstRate" value="12">

    <label>TCS %:</label>
    <input type="number" id="tcsRate" value="1">

    <button onclick="calculate()">‡¶≤‡¶æ‡¶≠/‡¶ï‡ßç‡¶∑‡¶§‡¶ø ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨ ‡¶ï‡¶∞‡ßÅ‡¶®</button>

    <div class="result" id="result"></div>
  </div>

  <script>
    function calculate() {
      let platform = document.getElementById("platform").value;
      let productCost = parseFloat(document.getElementById("productCost").value) || 0;
      let sellingPrice = parseFloat(document.getElementById("sellingPrice").value) || 0;
      let labour = parseFloat(document.getElementById("labour").value) || 0;
      let home = parseFloat(document.getElementById("home").value) || 0;
      let packing = parseFloat(document.getElementById("packing").value) || 0;
      let gstRate = parseFloat(document.getElementById("gstRate").value) || 0;
      let tcsRate = parseFloat(document.getElementById("tcsRate").value) || 0;

      // Platform-wise Commission & Fees
      let commissionRate = 0.15;
      let closingFee = 20;
      let shippingFee = 50;
      if (platform === "amazon") { commissionRate = 0.18; closingFee = 25; shippingFee = 55; }
      if (platform === "meesho") { commissionRate = 0.10; closingFee = 15; shippingFee = 40; }

      // Calculations
      let commission = sellingPrice * commissionRate;
      let adsCost = sellingPrice * 0.05;
      let returnFee = sellingPrice * 0.10;
      let gst = sellingPrice * (gstRate / 100);
      let tcs = sellingPrice * (tcsRate / 100);

      let operationalCost = labour + home + packing;

      // Total Khorocho (‡¶Ü‡¶™‡¶®‡¶ø ‡¶Æ‡ßã‡¶ü ‡¶Ø‡ßá ‡¶ñ‡¶∞‡¶ö ‡¶ï‡¶∞‡¶¨‡ßá‡¶®)
      let totalExpenses = productCost + operationalCost + returnFee + adsCost;

      // Bank ‡¶è ‡¶ï‡¶§ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶Ü‡¶∏‡¶¨‡ßá (Platform ‡¶•‡ßá‡¶ï‡ßá)
      let bankReceive = sellingPrice - (commission + closingFee + shippingFee + gst + tcs);

      // Net Profit/Loss
      let netProfit = bankReceive - (productCost + operationalCost + returnFee + adsCost);

      // Customer Pay
      let customerPay = sellingPrice + gst;

      let resultHTML = `
        <b>‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡¶æ‡¶∞ ‡¶™‡ßá ‡¶ï‡¶∞‡¶¨‡ßá:</b> ‚Çπ${customerPay.toFixed(2)}<br>
        <b>Platform ‡¶•‡ßá‡¶ï‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡ßá ‡¶Ü‡¶∏‡¶¨‡ßá:</b> ‚Çπ${bankReceive.toFixed(2)}<br>
        <b>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡ßã‡¶ü ‡¶ñ‡¶∞‡¶ö (Product + Labour + Home + Packing + Return + Ads):</b> ‚Çπ${totalExpenses.toFixed(2)}<br>
        <hr>
        Commission (${(commissionRate*100).toFixed(0)}%): ‚Çπ${commission.toFixed(2)}<br>
        Closing / Fixed Fees: ‚Çπ${closingFee.toFixed(2)}<br>
        Shipping Fee: ‚Çπ${shippingFee.toFixed(2)}<br>
        Return Fee (10%): ‚Çπ${returnFee.toFixed(2)}<br>
        Ads Cost (5%): ‚Çπ${adsCost.toFixed(2)}<br>
        GST (${gstRate}% on MSP): ‚Çπ${gst.toFixed(2)}<br>
        TCS (${tcsRate}%): ‚Çπ${tcs.toFixed(2)}<br>
        Labour + Home + Packing: ‚Çπ${operationalCost.toFixed(2)}<br>
        Product Cost: ‚Çπ${productCost.toFixed(2)}<br>
        <hr>
        ${netProfit >= 0 ? `<b class="profit">‚úÖ Net Profit: ‚Çπ${netProfit.toFixed(2)}</b>` : `<b class="loss">‚ùå Net Loss: ‚Çπ${netProfit.toFixed(2)}</b>`}
      `;

      document.getElementById("result").innerHTML = resultHTML;
    }
  </script>

</body>
</html>